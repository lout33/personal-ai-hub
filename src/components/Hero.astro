---
async function getStars() {
  try {
    const res = await fetch('https://api.github.com/repos/lout33/ai-life-assistant', {
      headers: {
        'Accept': 'application/vnd.github.v3+json',
        'User-Agent': 'personal-ai-hub'
      }
    });
    if (!res.ok) return 600;
    const data = await res.json();
    return data.stargazers_count || 600;
  } catch {
    return 600;
  }
}

const stars = await getStars();
---

<section class="relative min-h-screen flex items-center overflow-hidden">
  <!-- Split background -->
  <div class="absolute inset-0 flex">
    <div class="w-1/2 bg-zinc-200 dark:bg-zinc-900"></div>
    <div class="w-1/2 bg-zinc-900 dark:bg-black"></div>
  </div>
  
  <!-- Ink brush divider -->
  <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
    <svg class="h-full w-24 md:w-32" viewBox="0 0 100 800" preserveAspectRatio="none" fill="none">
      <path 
        d="M50 0 C25 80, 75 160, 45 240 C15 320, 85 400, 50 480 C15 560, 75 640, 45 720 C25 760, 60 780, 50 800" 
        stroke="#52525b" 
        stroke-width="12" 
        stroke-linecap="round"
        fill="none"
        class="drop-shadow-lg"
      />
    </svg>
  </div>
  
  <!-- Brush accents -->
  <div class="absolute top-32 left-8 w-16 h-1 bg-zinc-400 dark:bg-zinc-700 rounded-full transform -rotate-12 opacity-40"></div>
  <div class="absolute bottom-32 right-8 w-16 h-1 bg-zinc-600 dark:bg-zinc-700 rounded-full transform rotate-12 opacity-40"></div>
  
  <!-- Content -->
  <div class="relative z-10 w-full max-w-6xl mx-auto px-6 pt-24">
    <div class="grid md:grid-cols-2 gap-8 md:gap-16 items-center min-h-[80vh]">
      <!-- Human side -->
      <div class="text-zinc-900 dark:text-zinc-100 md:pr-8 lg:pr-16">
        <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-zinc-300 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 text-sm font-medium mb-8 border border-zinc-400 dark:border-zinc-700">
          <span class="w-1.5 h-1.5 rounded-full bg-zinc-600 dark:bg-zinc-400"></span>
          {stars}+ stars
        </div>
        
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight mb-6">
          AI that knows
        </h1>
        
        <p class="text-lg text-zinc-600 dark:text-zinc-400 mb-8 leading-relaxed max-w-md">
          You bring the context. Your goals, patterns, psychology. The human side of the symbiosis.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-3">
          <a href="/discover" class="inline-flex px-6 py-3 rounded-lg bg-emerald-500 text-white font-medium hover:bg-emerald-600 transition-colors">
            Build Your AI Partner
          </a>
          <a href="#get-started" class="inline-flex px-6 py-3 rounded-lg bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-colors">
            Get Started
          </a>
        </div>
      </div>
      
      <!-- Agent side -->
      <div class="text-white md:pl-8 lg:pl-16">
        <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-zinc-800 dark:bg-zinc-900 text-zinc-400 dark:text-zinc-500 text-sm font-medium mb-8 border border-zinc-700 dark:border-zinc-800">
          <span class="w-1.5 h-1.5 rounded-full bg-white"></span>
          symbiotic
        </div>
        
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight mb-6">
          you
        </h1>
        
        <p class="text-lg text-zinc-400 dark:text-zinc-500 mb-8 leading-relaxed max-w-md">
          The agent remembers, challenges, executes. Memory that compounds. Patterns that emerge.
        </p>
        
        <a href="https://github.com/lout33/ai-life-assistant" target="_blank" rel="noopener" class="inline-flex px-6 py-3 rounded-lg bg-zinc-700 dark:bg-zinc-800 text-white font-medium hover:bg-zinc-600 dark:hover:bg-zinc-700 transition-colors border border-zinc-600 dark:border-zinc-700">
          View on GitHub
        </a>
      </div>
    </div>
  </div>
  
  <!-- Scroll indicator -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2">
    <span class="text-xs tracking-widest uppercase text-zinc-500 dark:text-zinc-600">Scroll</span>
    <svg class="w-5 h-5 animate-bounce text-zinc-500 dark:text-zinc-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
    </svg>
  </div>
</section>
